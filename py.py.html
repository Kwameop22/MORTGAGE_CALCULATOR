<html>
<head>
<title>py.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cf8e6d;}
.s1 { color: #bcbec4;}
.s2 { color: #7a7e85;}
.s3 { color: #bcbec4;}
.s4 { color: #6aab73;}
.s5 { color: #2aacb8;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
py.py</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">math  </span><span class="s2"># Needed for powers and logs</span>

<span class="s1">print</span><span class="s3">(</span><span class="s4">&quot; Welcome to this Mortgage calculator &quot;</span><span class="s3">)</span>


<span class="s0">def </span><span class="s1">mortgage</span><span class="s3">(</span><span class="s1">c</span><span class="s3">, </span><span class="s1">deposit</span><span class="s3">):</span>
    <span class="s2">#c is house price, deposit is money paid towards mortgage from one's own pocket</span>
    <span class="s0">return </span><span class="s1">c </span><span class="s3">- </span><span class="s1">deposit</span>


<span class="s0">def </span><span class="s1">total_mortgage</span><span class="s3">(</span><span class="s1">mt</span><span class="s3">, </span><span class="s1">interest</span><span class="s3">):</span>
    <span class="s2"># mt is principal, interest is annual rate</span>
    <span class="s2"># Real mortgages use monthly payment * total months</span>
    <span class="s1">t_years </span><span class="s3">= </span><span class="s5">25</span>
    <span class="s1">monthly_rate </span><span class="s3">= (</span><span class="s1">interest </span><span class="s3">/ </span><span class="s5">100</span><span class="s3">) / </span><span class="s5">12</span>
    <span class="s1">total_months </span><span class="s3">= </span><span class="s1">t_years </span><span class="s3">* </span><span class="s5">12</span>
    <span class="s2"># Formula for monthly payment(Amortization Formula)</span>
    <span class="s1">payment </span><span class="s3">= </span><span class="s1">mt </span><span class="s3">* (</span><span class="s1">monthly_rate </span><span class="s3">* (</span><span class="s5">1 </span><span class="s3">+ </span><span class="s1">monthly_rate</span><span class="s3">) ** </span><span class="s1">total_months</span><span class="s3">) / ((</span><span class="s5">1 </span><span class="s3">+ </span><span class="s1">monthly_rate</span><span class="s3">) ** </span><span class="s1">total_months </span><span class="s3">- </span><span class="s5">1</span><span class="s3">)</span>
    <span class="s2">#This is the Amortization formula</span>
    <span class="s0">return </span><span class="s1">payment </span><span class="s3">* </span><span class="s1">total_months</span>


<span class="s0">def </span><span class="s1">monthly_payment</span><span class="s3">(</span><span class="s1">tm</span><span class="s3">, </span><span class="s1">time</span><span class="s3">):</span>
    <span class="s2"># tm here is the Total mortgage calculated from Choice 2</span>
    <span class="s0">return </span><span class="s1">tm </span><span class="s3">/ (</span><span class="s1">time </span><span class="s3">* </span><span class="s5">12</span><span class="s3">)</span>


<span class="s0">def </span><span class="s1">overpayment_amount</span><span class="s3">(</span><span class="s1">fd</span><span class="s3">, </span><span class="s1">oa</span><span class="s3">, </span><span class="s1">tm_principal</span><span class="s3">):</span>
    <span class="s2">#fd is monthly payment, oa is overpayment amount, tm is total mortgage</span>
    <span class="s2"># This calculates how many years it takes to pay off the total mortgage cost with extra money</span>
    <span class="s1">annual_interest_rate </span><span class="s3">= </span><span class="s1">i  </span><span class="s2"># Uses 'i' from the global scope</span>
    <span class="s1">monthly_rate </span><span class="s3">= (</span><span class="s1">annual_interest_rate </span><span class="s3">/ </span><span class="s5">100</span><span class="s3">) / </span><span class="s5">12</span>
    <span class="s1">total_monthly_pay </span><span class="s3">= </span><span class="s1">fd </span><span class="s3">+ </span><span class="s1">oa</span>

    <span class="s2"># Logarithmic formula to find months remaining</span>
    <span class="s2">#I used a logarithmic formula for the overpayment section.</span>
    <span class="s2"># I did this because when you pay extra,you aren't just lowering the balance;</span>
    <span class="s2"># you are also stopping the bank from charging interest on that money in the future.</span>
    <span class="s2"># A simple division won't work here because the interest amount changes every month.</span>
    <span class="s2"># The math.log function helps the program calculate when the debt will hit zero based on the new,higher payments</span>
    <span class="s1">months </span><span class="s3">= -</span><span class="s1">math</span><span class="s3">.</span><span class="s1">log</span><span class="s3">(</span><span class="s5">1 </span><span class="s3">- (</span><span class="s1">monthly_rate </span><span class="s3">* </span><span class="s1">tm_principal</span><span class="s3">) / </span><span class="s1">total_monthly_pay</span><span class="s3">) / </span><span class="s1">math</span><span class="s3">.</span><span class="s1">log</span><span class="s3">(</span><span class="s5">1 </span><span class="s3">+ </span><span class="s1">monthly_rate</span><span class="s3">)</span>
    <span class="s0">return </span><span class="s1">months </span><span class="s3">/ </span><span class="s5">12</span>


<span class="s1">print</span><span class="s3">(</span><span class="s4">&quot;&quot;&quot; 
1. Mortgage Principal 
2. Total Mortgage Cost 
3. Monthly Payment 
4. New Payoff Time 
&quot;&quot;&quot;</span><span class="s3">)</span>


<span class="s0">while True</span><span class="s3">:</span>
  <span class="s0">try</span><span class="s3">:</span>
    <span class="s1">choice </span><span class="s3">= </span><span class="s1">int</span><span class="s3">(</span><span class="s1">input</span><span class="s3">(</span><span class="s4">&quot;Choose: &quot;</span><span class="s3">))</span>
    <span class="s0">if </span><span class="s1">choice </span><span class="s3">== </span><span class="s5">1</span><span class="s3">:</span>
        <span class="s1">currency </span><span class="s3">= </span><span class="s1">input</span><span class="s3">(</span><span class="s4">&quot;Enter currency(in its symbol): &quot;</span><span class="s3">)</span>
        <span class="s1">a </span><span class="s3">= </span><span class="s1">int</span><span class="s3">(</span><span class="s1">input</span><span class="s3">(</span><span class="s4">f&quot;House price:  </span><span class="s0">{</span><span class="s1">currency</span><span class="s0">}</span><span class="s4">&quot;</span><span class="s3">))</span>
        <span class="s1">b </span><span class="s3">= </span><span class="s1">int</span><span class="s3">(</span><span class="s1">input</span><span class="s3">(</span><span class="s4">f&quot;Deposit on house:  </span><span class="s0">{</span><span class="s1">currency</span><span class="s0">}</span><span class="s4">&quot;</span><span class="s3">))</span>
        <span class="s1">print</span><span class="s3">(</span><span class="s4">f&quot;The mortgage is </span><span class="s0">{</span><span class="s1">currency</span><span class="s0">}{</span><span class="s1">mortgage</span><span class="s3">(</span><span class="s1">a</span><span class="s3">, </span><span class="s1">b</span><span class="s3">)</span><span class="s0">:</span><span class="s4">,.2f</span><span class="s0">}</span><span class="s4">&quot;</span><span class="s3">)</span>
        <span class="s0">break</span>

    <span class="s0">elif </span><span class="s1">choice </span><span class="s3">== </span><span class="s5">2</span><span class="s3">:</span>
        <span class="s1">currency </span><span class="s3">= </span><span class="s1">input</span><span class="s3">(</span><span class="s4">&quot;Enter currency(in its symbol): &quot;</span><span class="s3">)</span>
        <span class="s1">a </span><span class="s3">= </span><span class="s1">int</span><span class="s3">(</span><span class="s1">input</span><span class="s3">(</span><span class="s4">f&quot;House price:  </span><span class="s0">{</span><span class="s1">currency</span><span class="s0">}</span><span class="s4">&quot;</span><span class="s3">))</span>
        <span class="s1">b </span><span class="s3">= </span><span class="s1">int</span><span class="s3">(</span><span class="s1">input</span><span class="s3">(</span><span class="s4">f&quot;Deposit on house:  </span><span class="s0">{</span><span class="s1">currency</span><span class="s0">}</span><span class="s4">&quot;</span><span class="s3">))</span>
        <span class="s1">i </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">input</span><span class="s3">(</span><span class="s4">&quot;Interest on mortgage(%): &quot;</span><span class="s3">))</span>
        <span class="s1">m </span><span class="s3">= </span><span class="s1">a </span><span class="s3">- </span><span class="s1">b</span>
        <span class="s1">print</span><span class="s3">(</span><span class="s4">f&quot;The total mortgage cost is </span><span class="s0">{</span><span class="s1">currency</span><span class="s0">}{</span><span class="s1">round</span><span class="s3">(</span><span class="s1">total_mortgage</span><span class="s3">(</span><span class="s1">m</span><span class="s3">, </span><span class="s1">i</span><span class="s3">), </span><span class="s5">2</span><span class="s3">)</span><span class="s0">:</span><span class="s4">,.2f</span><span class="s0">}</span><span class="s4">&quot;</span><span class="s3">)</span>
        <span class="s0">break</span>

    <span class="s0">elif </span><span class="s1">choice </span><span class="s3">== </span><span class="s5">3</span><span class="s3">:</span>
        <span class="s1">currency </span><span class="s3">= </span><span class="s1">input</span><span class="s3">(</span><span class="s4">&quot;Enter currency(in its symbol): &quot;</span><span class="s3">)</span>
        <span class="s1">a </span><span class="s3">= </span><span class="s1">int</span><span class="s3">(</span><span class="s1">input</span><span class="s3">(</span><span class="s4">f&quot;House price:  </span><span class="s0">{</span><span class="s1">currency</span><span class="s0">}</span><span class="s4">&quot;</span><span class="s3">))</span>
        <span class="s1">b </span><span class="s3">= </span><span class="s1">int</span><span class="s3">(</span><span class="s1">input</span><span class="s3">(</span><span class="s4">f&quot;Deposit on house:  </span><span class="s0">{</span><span class="s1">currency</span><span class="s0">}</span><span class="s4">&quot;</span><span class="s3">))</span>
        <span class="s1">i </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">input</span><span class="s3">(</span><span class="s4">f&quot;Interest on mortgage(%):   &quot;</span><span class="s3">))</span>
        <span class="s1">m </span><span class="s3">= </span><span class="s1">a </span><span class="s3">- </span><span class="s1">b</span>
        <span class="s1">t </span><span class="s3">= </span><span class="s5">25</span>
        <span class="s2"># We calculate the real total cost first</span>
        <span class="s1">total_cost </span><span class="s3">= </span><span class="s1">total_mortgage</span><span class="s3">(</span><span class="s1">m</span><span class="s3">, </span><span class="s1">i</span><span class="s3">)</span>
        <span class="s1">print</span><span class="s3">(</span><span class="s4">f&quot;The monthly payment is </span><span class="s0">{</span><span class="s1">currency</span><span class="s0">}{</span><span class="s1">round</span><span class="s3">(</span><span class="s1">monthly_payment</span><span class="s3">(</span><span class="s1">total_cost</span><span class="s3">, </span><span class="s1">t</span><span class="s3">), </span><span class="s5">2</span><span class="s3">)</span><span class="s0">:</span><span class="s4">,.2f</span><span class="s0">}</span><span class="s4">&quot;</span><span class="s3">)</span>
        <span class="s0">break</span>

    <span class="s0">elif </span><span class="s1">choice </span><span class="s3">== </span><span class="s5">4</span><span class="s3">:</span>
        <span class="s1">currency </span><span class="s3">= </span><span class="s1">input</span><span class="s3">(</span><span class="s4">&quot;Enter currency(in its symbol): &quot;</span><span class="s3">)</span>
        <span class="s1">a </span><span class="s3">= </span><span class="s1">int</span><span class="s3">(</span><span class="s1">input</span><span class="s3">(</span><span class="s4">f&quot;House price:  </span><span class="s0">{</span><span class="s1">currency</span><span class="s0">}</span><span class="s4">&quot;</span><span class="s3">))</span>
        <span class="s1">b </span><span class="s3">= </span><span class="s1">int</span><span class="s3">(</span><span class="s1">input</span><span class="s3">(</span><span class="s4">f&quot;Deposit on house:  </span><span class="s0">{</span><span class="s1">currency</span><span class="s0">}</span><span class="s4">&quot;</span><span class="s3">))</span>
        <span class="s1">i </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">input</span><span class="s3">(</span><span class="s4">f&quot;Interest on mortgage(%):   &quot;</span><span class="s3">))</span>
        <span class="s1">m </span><span class="s3">= </span><span class="s1">a </span><span class="s3">- </span><span class="s1">b</span>
        <span class="s1">t </span><span class="s3">= </span><span class="s5">25</span>
        <span class="s1">total_cost </span><span class="s3">= </span><span class="s1">total_mortgage</span><span class="s3">(</span><span class="s1">m</span><span class="s3">, </span><span class="s1">i</span><span class="s3">)</span>
        <span class="s1">fd </span><span class="s3">= </span><span class="s1">monthly_payment</span><span class="s3">(</span><span class="s1">total_cost</span><span class="s3">, </span><span class="s1">t</span><span class="s3">)</span>
        <span class="s1">oa </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">input</span><span class="s3">(</span><span class="s4">&quot;Overpayment amount: &quot;</span><span class="s3">))</span>
        <span class="s2"># Passing m (the principal) to the formula</span>
        <span class="s1">years_left </span><span class="s3">= </span><span class="s1">overpayment_amount</span><span class="s3">(</span><span class="s1">fd</span><span class="s3">, </span><span class="s1">oa</span><span class="s3">, </span><span class="s1">m</span><span class="s3">)</span>
        <span class="s1">print</span><span class="s3">(</span><span class="s4">f&quot;The new payoff time is </span><span class="s0">{</span><span class="s1">round</span><span class="s3">(</span><span class="s1">years_left</span><span class="s3">, </span><span class="s5">1</span><span class="s3">)</span><span class="s0">} </span><span class="s4">years&quot;</span><span class="s3">)</span>
        <span class="s0">break</span>
    <span class="s0">else</span><span class="s3">:</span>
        <span class="s1">print</span><span class="s3">(</span><span class="s4">f&quot;</span><span class="s0">{</span><span class="s1">choice</span><span class="s0">} </span><span class="s4">is not a valid option&quot;</span><span class="s3">) </span><span class="s2"># Prevents user from entering a choice which is not 1-4</span>


  <span class="s0">except </span><span class="s1">ValueError</span><span class="s3">: </span><span class="s2">#Enables user to enter variables(words,symbols) as choice without the code breaking</span>
      <span class="s1">print</span><span class="s3">(</span><span class="s4">&quot;Invalid input.&quot;</span><span class="s3">)</span>

</pre>
</body>
</html>